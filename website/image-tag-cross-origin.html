<html>

<head>
    <link rel="stylesheet" href="style.css">
    <title>Cross-origin request from &lt;img&gt; tag</title>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="stuff.js"></script>
    <script>
        registerDynamicContent(function() {
            const image = new Image();
            image.src = "https://assets.cors-examples.tomgregory.com/waterfall.jpg";
            image.onload = function () {
                $("#dynamic").hide().fadeIn('slow');
                $("#dynamic").append(image);
                finishDynamicContent(new URL(image.src).origin);
            }
        });
    </script>
</head>

<body>
    <div class="content">
        <h1>Cross-origin request from <code>&lt;img&gt;</code> tag</h1>
        <p>Using an <code>&lt;img&gt;</code> tag triggers a request for the image, in this case cross-origin.</p>

        <div class="dynamic" id="dynamic">
            <button type="button" id="try-it-out" class="big centred">
                Try it out!
            </button>
        </div>

        <div class="info-box hidden" id="origins">
            <div class="info-title">Origins</div>
            <div>
                Source: <code id="source-origin"></code>
            </div>
            <div>
                Request: <code id="request-origin"></code>
            </div>
        </div>

        <div>
            <a href="link-tag-cross-origin.html">
                <button type="button" class="blue">
                    Next example <small>>></small>
                </button>
            </a>
        </div>
    </div>
</body>

</html>