<html>

<head>
    <link rel="stylesheet" href="style.css">
    <title>Cross-origin request from &lt;link&gt; tag</title>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="stuff.js"></script>
    <script>
        registerDynamicContent(function () {
            const styleSheetURL = "https://assets.cors-examples.tomgregory.com/funky-text.css";
            const stylesheet = $("<link>", {
                rel: "stylesheet",
                type: "text/css",
                href: styleSheetURL,
                onload: function () {
                    $("#dynamic").hide().fadeIn('slow');
                    finishDynamicContent(new URL(styleSheetURL).origin);
                }
            });

            stylesheet.appendTo("head");
        });
    </script>
</head>

<body>
    <div class="content">
        <h1>Cross-origin request from <code>&lt;link&gt;</code> tag</h1>
        <p>Using an <code>&lt;link&gt;</code> tag triggers a request for the stylesheet, in this case cross-origin.</p>

        <div class="dynamic" id="dynamic">
            <button type="button" id="try-it-out" class="big centred">
                Try it out!
            </button>
            <h2 class="title">
                <span class="title-word title-word-1">CSS</span>
                <span class="title-word title-word-2">from</span>
                <span class="title-word title-word-3">link</span>
                <span class="title-word title-word-4">tag</span>
            </h2>
        </div>

        <div class="info-box hidden" id="origins">
            <div class="info-title">Origins</div>
            <div>
                Source: <code id="source-origin"></code>
            </div>
            <div>
                Request: <code id="request-origin"></code>
            </div>
        </div>

        <div>
            <a href="image-tag-cross-origin.html">
                <button type="button" class="blue">
                    <small><<</small> Previous example
                </button>
            </a>
            <a href="script-tag-cross-origin.html">
                <button type="button" class="blue">
                    Next example <small>>></small>
                </button>
            </a>
        </div>
    </div>
</body>

</html>